<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .page {
        width: 100vw;
        display: flex;
        justify-content: space-evenly;
        flex: 1 0 0;
      }

      .page > div {
        width: 100%;
        border: 1px solid #ddd;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 700px;
      }
    </style>
  </head>

  <h1>å±•å¼€å†…å®¹é«˜åº¦è‡ªé€‚åº”è¿‡æ¸¡æ•ˆæœ</h1>

  <body>
    <div class="page">
      <div>
        <h2>ğŸ“Œ æ–¹å¼ä¸€: ä½¿ç”¨Gridå®ç°</h2>
        <style>
          .container {
            width: 200px;
          }

          /* æ–¹å¼ä¸€: grid */
          .content {
            display: grid;
            grid-template-rows: 0fr;
            transition: 0.5s;
            overflow: hidden;
            background-color: pink;
          }

          .show.content {
            grid-template-rows: 1fr;
          }

          .row {
            /* 0fræ—¶, å…ƒç´ å ç”¨ç©ºé—´ç”±gridçš„æœ€å°å°ºå¯¸è§„åˆ™å†³å®š, ä¹Ÿå°±æ˜¯å†…éƒ¨çš„å†…å®¹å¤§å° */
            /* å½“è®¾ç½®ä¸º0æ—¶, æ‰èƒ½å°†å…ƒç´ éšè— */
            min-height: 0;
          }
        </style>
        <div class="container">
          <button class="trigger" onclick="showText()">ç‚¹å‡»æ˜¾ç¤ºå†…å®¹</button>
          <div class="content">
            <div class="row"></div>
          </div>
        </div>
      </div>

      <div>
        <h2>ğŸ“Œ æ–¹å¼äºŒ: ä½¿ç”¨JSåŠ¨æ€è®¡ç®—å®ç°</h2>
        <style>
          .content2 {
            overflow: hidden;
            height: 0;
            background-color: pink;
          }
        </style>
        <div class="container">
          <button onclick="showText2()">ç‚¹å‡»æ˜¾ç¤ºå†…å®¹</button>
          <div class="content2"></div>
        </div>
      </div>
    </div>

    <script>
      function dynamicText() {
        return `Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae fuga, error tenetur dicta minus quae corrupti
          officiis sapiente assumenda soluta iure praesentium adipisci reprehenderit nisi odit ex doloribus quos vero.`.repeat(
          parseInt(Math.random() * 10)
        )
      }

      function showText() {
        const elem = document.querySelector('.content')
        const content = document.querySelector('.row')
        content.innerText = dynamicText()
        elem.classList.toggle('show')
      }

      let flag = false
      function showText2() {
        flag = !flag
        const elem = document.querySelector('.content2')
        elem.innerText = dynamicText()
        if (flag) {
          elem.style.transition = 'none'
          elem.style.height = 'auto' // è®¾ç½®ä¸ºautoåå°±èƒ½è·å–é«˜åº¦
          const h = elem.offsetHeight
          elem.style.height = 0
          /*
        éœ€è¦å¼ºåˆ¶å›æµä¸€æ¬¡, ä¸‹é¢æ–¹å¼å‡å¯:
        - offsetTopã€offsetLeftã€offsetWidthã€offsetHeight
        - scrollTopã€scrollLeftã€scrollWidthã€scrollHeight
        - clientTopã€clientLeftã€clientWidthã€clientHeight
        - getComputedStyle()
        - getBoundingClientRect
        */
          elem.clientTop
          elem.style.transition = '0.5s'
          elem.style.height = `${h}px`
        } else {
          elem.style.transition = '0.5s'
          elem.style.height = 0
        }
      }
    </script>
  </body>
</html>
